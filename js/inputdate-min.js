/* input date type/datepicker 
Plugin to add booking widget with input date type and a fallback as Datepicker plugin - Requires jquery and Jquery UI (Datepicker) plugin
https://github.com/vaibhavagar/InputDate-Datepicker-Plugin
*/
var dateFormat="",dateSplit="",options="";!function(t){t.fn.inputdate=function(a){function e(){0==n.getMonth()||2==n.getMonth()||4==n.getMonth()||6==n.getMonth()||7==n.getMonth()||9==n.getMonth()||11==n.getMonth()?n.getDate()>30?(i=new Date(n.getFullYear(),n.getMonth()+1,1).getDay(),p=1,d=n.getMonth()+1):(i=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1).getDay(),p=n.getDate()+1,d=n.getMonth()):n.getDate()>29?(i=new Date(n.getFullYear(),n.getMonth()+1,1).getDay(),p=1,d=n.getMonth()+1):(i=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1).getDay(),p=n.getDate()+1,d=n.getMonth())}var n=new Date,s=(new Date,["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),r=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"),l=new Date(n.getFullYear(),n.getMonth(),n.getDate()).getDay(),i=0,p=0,d=0;e(),t("#arrival .date").html('<span class="booking-date">'+n.getDate()+"</span> "+s[n.getMonth()]+'<span class="year">'+n.getFullYear()+"</span>"),t("#arrival .left").html('<div class="day">'+r[l]+"</div>"),t("#departure .date").html('<span class="booking-date">'+p+"</span> "+s[d]+'<span class="year">'+n.getFullYear()+"</span>"),t("#departure .left").html('<div class="day">'+r[i]+"</div>");var o=t.extend({},t.fn.inputdate.defaults,a);dateFormat=o.dateFormat,dateSplit=o.dateSplit,t("#arrivalFrom").change(function(){if("UK"==dateFormat)if("-"==dateSplit)var a=t(this).val(),e=a.split("-"),l=parseInt(e[0]),i=parseInt(e[1]),p=parseInt(e[2]);else var a=t(this).val(),e=a.split("/"),l=parseInt(e[0]),i=parseInt(e[1]),p=parseInt(e[2]);else if("-"==dateSplit)var a=t(this).val(),e=a.split("-"),l=parseInt(e[2]),i=parseInt(e[1]),p=parseInt(e[0]);else var a=t(this).val(),e=a.split("/"),l=parseInt(e[2]),i=parseInt(e[1]),p=parseInt(e[0]);var d=new Date(p,i-1,l).getDay(),o=new Date(p,i-1,l+1).getDay();t("#arrival .date").html('<span class="booking-date">'+l+"</span> "+s[i-1]+'<span class="year">'+p+"</span>"),t("#arrival .left").html('<div class="day">'+r[d]+"</div>"),t("#departure .date").html(0==n.getMonth()||2==n.getMonth()||4==n.getMonth()||6==n.getMonth()||7==n.getMonth()||9==n.getMonth()||11==n.getMonth()?l>30?'<span class="booking-date">1</span> '+s[i]+'<span class="year">'+p+"</span>":'<span class="booking-date">'+(l+1)+"</span> "+s[i-1]+'<span class="year">'+p+"</span>":l>29?'<span class="booking-date">1</span> '+s[i]+'<span class="year">'+p+"</span>":'<span class="booking-date">'+(l+1)+"</span> "+s[i-1]+'<span class="year">'+p+"</span>"),t("#departure .left").html('<div class="day">'+r[o]+"</div>")}),t("#departureFrom").change(function(){var a=t(this).val(),e=a.split("-"),n=parseInt(e[2]),l=parseInt(e[1]),i=parseInt(e[0]),p=new Date(i,l-1,n).getDay();t("#departure .date").html('<span class="booking-date">'+n+"</span> "+s[l-1]+'<span class="year">'+i+"</span>"),t("#departure .left").html('<div class="day">'+r[p]+"</div>")}),Modernizr.inputtypes.date&&Modernizr.touch||(console.log("The 'date' input type is not supported, so using JQueryUI datepicker instead."),t("#arrivalFrom").datepicker({defaultDate:"+1w",changeMonth:!0,numberOfMonths:1,dateFormat:"yy-mm-dd",onClose:function(a){t("#departureFrom").datepicker("option","minDate",a)}}),t("#departureFrom").datepicker({defaultDate:"+1w",changeMonth:!0,numberOfMonths:1,dateFormat:"yy-mm-dd",onClose:function(a){t("#arrivalFrom").datepicker("option","maxDate",a)}})),t(".spinner").each(function(){t(this).find(".increment").click(function(){var a=t(this).parents(".spinner"),e=a.find("input"),n=(a.attr("data-min"),a.attr("data-max")),s=parseInt(e.val()),r=a.find(".section_value");n>=s+1&&(e.val(s+1),r.html(e.val()))}),t(this).find(".decrement").click(function(){var a=t(this).parents(".spinner"),e=a.find("input"),n=a.attr("data-min"),s=(a.attr("data-max"),parseInt(e.val())),r=a.find(".section_value");s-1>=n&&(e.val(s-1),r.html(e.val()))})})},t.fn.inputdate.defaults={dateFormat:"US",dateSplit:"/"}}(jQuery);