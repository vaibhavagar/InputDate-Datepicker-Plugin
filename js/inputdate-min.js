/* input date type/datepicker 
Plugin to add booking widget with input date type and a fallback as Datepicker plugin - Requires jquery and Jquery UI (Datepicker) plugin
https://github.com/vaibhavagar/InputDate-Datepicker-Plugin
*/
var dateFormat="",dateSplit="",options="";!function(t){t.fn.inputdate=function(e){function a(){0==n.getMonth()||2==n.getMonth()||4==n.getMonth()||6==n.getMonth()||7==n.getMonth()||9==n.getMonth()||11==n.getMonth()?n.getDate()>30?(s=new Date(n.getFullYear(),n.getMonth()+1,1).getDay(),l=1,o=n.getMonth()+1):(s=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1).getDay(),l=n.getDate()+1,o=n.getMonth()):n.getDate()>29?(s=new Date(n.getFullYear(),n.getMonth()+1,1).getDay(),l=1,o=n.getMonth()+1):(s=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1).getDay(),l=n.getDate()+1,o=n.getMonth())}var n=new Date,d=(new Date,["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),r=new Array("Sun","Mon","Tue","Wed","Thu","Fri","Sat"),i=new Date(n.getFullYear(),n.getMonth(),n.getDate()).getDay(),s=0,l=0,o=0;a(),t("#arrival .date").text(n.getDate()),t("#arrival .month-day").html('<div class="month">'+d[n.getMonth()]+'</div><div class="day">'+r[i]+"</div>"),t("#departure .date").text(l),t("#departure .month-day").html('<div class="month">'+d[o]+'</div><div class="day">'+r[s]+"</div>");var p=t.extend({},t.fn.inputdate.defaults,e);dateFormat=p.dateFormat,dateSplit=p.dateSplit,t("#arrivalFrom").change(function(){if("UK"==dateFormat)if("-"==dateSplit)var e=t(this).val(),a=e.split("-"),n=parseInt(a[0]),i=parseInt(a[1]),s=parseInt(a[2]);else var e=t(this).val(),a=e.split("/"),n=parseInt(a[0]),i=parseInt(a[1]),s=parseInt(a[2]);else if("-"==dateSplit)var e=t(this).val(),a=e.split("-"),n=parseInt(a[2]),i=parseInt(a[1]),s=parseInt(a[0]);else var e=t(this).val(),a=e.split("/"),n=parseInt(a[2]),i=parseInt(a[1]),s=parseInt(a[0]);var l=new Date(s,i-1,n).getDay(),o=new Date(s,i-1,n+1).getDay();t("#arrival .date").text(n),t("#arrival .month-day").html('<div class="month">'+d[i-1]+'</div><div class="day">'+r[l]+"</div>"),1==i||3==i||5==i||7==i||8==i||10==i||12==i?n>30?(t("#departure .date").text(1),t("#departure .month-day").html('<div class="month">'+d[i]+'</div><div class="day">'+r[o]+"</div>")):(t("#departure .date").text(n+1),t("#departure .month-day").html('<div class="month">'+d[i-1]+'</div><div class="day">'+r[o]+"</div>")):2==i?28==n?(t("#departure .date").text(1),t("#departure .month-day").html('<div class="month">'+d[i]+'</div><div class="day">'+r[o]+"</div>")):(t("#departure .date").text(n+1),t("#departure .month-day").html('<div class="month">'+d[i-1]+'</div><div class="day">'+r[o]+"</div>")):n>29?(t("#departure .date").text(1),t("#departure .month-day").html('<div class="month">'+d[i]+'</div><div class="day">'+r[o]+"</div>")):(t("#departure .date").text(n+1),t("#departure .month-day").html('<div class="month">'+d[i-1]+'</div><div class="day">'+r[o]+"</div>"))}),t("#departureFrom").change(function(){var e=t(this).val(),a=e.split("-"),n=parseInt(a[2]),i=parseInt(a[1]),s=parseInt(a[0]),l=new Date(s,i-1,n).getDay();t("#departure .date").text(n),t("#departure .month-day").html('<div class="month">'+d[i-1]+'</div><div class="day">'+r[l]+"</div>")}),Modernizr.inputtypes.date&&Modernizr.touch||(console.log("The 'date' input type is not supported, so using JQueryUI datepicker instead."),t("#arrivalFrom").datepicker({defaultDate:"+1w",changeMonth:!0,numberOfMonths:1,dateFormat:"yy-mm-dd",onClose:function(e){t("#departureFrom").datepicker("option","minDate",e)}}),t("#departureFrom").datepicker({defaultDate:"+1w",changeMonth:!0,numberOfMonths:1,dateFormat:"yy-mm-dd",onClose:function(e){t("#arrivalFrom").datepicker("option","maxDate",e)}})),t(".spinner").each(function(){t(this).find(".increment").click(function(){var e=t(this).parents(".spinner"),a=e.find("input"),n=(e.attr("data-min"),e.attr("data-max")),d=parseInt(a.val()),r=e.find(".section_value");n>=d+1&&(a.val(d+1),r.html(a.val()))}),t(this).find(".decrement").click(function(){var e=t(this).parents(".spinner"),a=e.find("input"),n=e.attr("data-min"),d=(e.attr("data-max"),parseInt(a.val())),r=e.find(".section_value");d-1>=n&&(a.val(d-1),r.html(a.val()))})})},t.fn.inputdate.defaults={dateFormat:"US",dateSplit:"/"}}(jQuery);